kind: ConfigMap
apiVersion: v1
metadata:
  name: mediamtx-config
  namespace: default
data:
  mediamtx.yml: |
    readTimeout: 30s
    writeTimeout: 30s
    webrtcAdditionalHosts:
      - vroem.stingalleman.nl
      - 2a07:54c7:5201:6e6f::a
      - 45.83.205.8
    # webrtcLocalUDPAddress: ":8189"
    webrtcLocalUDPAddress: ""
    webrtcLocalTCPAddress: ":8190" # keep disabled unless you really need TCP ICE. :contentReference[oaicite:5]{index=5}
    webrtcICEServers2:
      - url: stun:stun.l.google.com:19302
    paths:
      vroem:
        rtspTransport: tcp
        source: rtsp://10.10.88.10
      # compressed:
      # original:
      #   runOnReady: >
      #     ffmpeg -i rtsp://localhost:$RTSP_PORT/$MTX_PATH
      #       -c:v libx264 -pix_fmt yuv420p -preset ultrafast -b:v 600k -c:a libopus -b:a 64K -async 50
      #       -f rtsp rtsp://localhost:$RTSP_PORT/compressed
      #   runOnReadyRestart: yes
      #   source: rtsp://10.10.88.10
      #   rtspTransport: tcp
